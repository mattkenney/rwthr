var projection=d3.geo.mercator().center([-55,30]).scale(300).translate([300,150]),path=d3.geo.path().projection(projection),svg=d3.select("#svg"),center=[-55,30],image=svg.append("image").attr("width","600").attr("height","300"),basin="al",message="No active tropical cyclones in the Atlantic.";"#pacific"===location.hash?(image.attr("xlink:href","/images/pacific.png"),projection.center([-130,30]),basin="ep",message="No active tropical cyclones in the Eastern Pacific."):image.attr("xlink:href","/images/atlantic.png"),d3.json("/data/tropics.json",function(a,b){var c=!1;if(b&&b.objects)for(var d in b.objects)if(b.objects.hasOwnProperty(d)){var e=topojson.feature(b,b.objects[d]),f=d.split("_").pop();svg.append("path").datum(e).attr("id",d).attr("class",f).attr("d",path),"pts"===f&&svg.append("text").datum(e.features[0]).attr("class",f).attr("transform",function(a){return"translate("+path.centroid(a)+")"}).attr("dx","0.5ex").attr("dy","0.5ex").text(function(a){return a.properties.STORMNAME}),c=c||d.substring(0,2)===basin}c||svg.append("text").attr("class","pts").attr("text-anchor","middle").attr("x",300).attr("y",280).text(message)});